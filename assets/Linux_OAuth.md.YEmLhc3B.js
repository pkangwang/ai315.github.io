import{_ as t,c as e,o as d,a2 as c}from"./chunks/framework.84TDCN6B.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"Linux/OAuth.md","filePath":"Linux/OAuth.md"}'),o={name:"Linux/OAuth.md"},i=c('<p>OAuth 是 Opne Authorizations的简写。</p><p>openid是微信用户在公众号appid下的唯一用户标识（appid不同，则获取到的openid就不同）</p><p><img src="https://bkimg.cdn.bcebos.com/pic/86d6277f9e2f0708ca1c2b2ceb24b899a901f285?x-bce-process=image/watermark,image_d2F0ZXIvYmFpa2U5Mg==,g_7,xp_5,yp_5/format,f_auto" alt="OAuth | 1200"></p><ul><li>AppID 应用ID</li><li>AppSecret 应用的密钥</li><li>Code 临时票据</li><li>返回access_token</li></ul><h2 id="github-授权" tabindex="-1">github 授权 <a class="header-anchor" href="#github-授权" aria-label="Permalink to &quot;github 授权&quot;">​</a></h2><p>请求路径 ：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>https://github.com/login/oauth/authorize?client_id=${clientId}&amp;redirect_uri=${redirect_uri}</span></span></code></pre></div><p>用户点击授权后，会跳回到回调地址。</p><h2 id="access-token" tabindex="-1">Access Token <a class="header-anchor" href="#access-token" aria-label="Permalink to &quot;Access Token&quot;">​</a></h2><p>最终的目的是获得一个Access Token，Access Token 唯一标识用户。</p><p>使用Refresh Token 获得一个新的Access Token。</p><p>三个地址：</p><ul><li>请求授权地址，例如 <code>授权服务器主机名/auth/login</code> 参数 client_id redict_id，请求后会打开授权页面</li><li>点击后，授权服务器返回的地址，即回调地址（携带Code）</li><li>请求回调地址，会得到Code</li><li>请求token地址，例如 <code>授权服务器主机名/auto/access_token</code> 参数Code + client_id + client_secret</li><li>获取Access_token</li><li>通过Access Token获取用户的OpenID</li></ul><h2 id="微信授权" tabindex="-1">微信授权 <a class="header-anchor" href="#微信授权" aria-label="Permalink to &quot;微信授权&quot;">​</a></h2><p>参考 ： <a href="https://blog.csdn.net/qq_36389060/article/details/124047449" target="_blank" rel="noreferrer">https://blog.csdn.net/qq_36389060/article/details/124047449</a></p><p>获取 access_token 后可以进行哪些操作？</p><p>开发者可通过 OpenID 来获取用户基本信息</p><p><strong>Github授权登陆流程</strong></p><table><thead><tr><th>步骤</th><th>请求方式</th><th>请求URL</th><th>请求参数</th><th>返回内容</th></tr></thead><tbody><tr><td>1</td><td>GET</td><td><code>https://github.com/login/oauth/authorize</code></td><td>client-id</td><td>redict-url</td></tr><tr><td>2</td><td>GET</td><td><code>redict_url</code></td><td>无</td><td>request-code</td></tr><tr><td>3</td><td>POST</td><td><code>https://github.com/login/oauth/access_token</code></td><td>client-id、client-secret、request-code</td><td>access-token</td></tr><tr><td>4</td><td>GET</td><td><code>https://api.github.com/user</code></td><td>请求头中添加access-token</td><td>github-id、github-url等GitHub用户信息</td></tr></tbody></table><p><strong>微信授权登陆流程</strong></p><table><thead><tr><th>步骤</th><th>请求方式</th><th>请求URL</th><th>请求参数</th><th>返回内容</th></tr></thead><tbody><tr><td>1</td><td>GET</td><td><code>https://open.weixin.qq.com/connect/qrconnect</code></td><td>client-id</td><td>redict-url</td></tr><tr><td>2</td><td>GET</td><td><code>redict_url</code></td><td>无</td><td>request-code</td></tr><tr><td>3</td><td>POST</td><td><code>https://api.weixin.qq.com/sns/oauth2/access_token</code></td><td>appid、secret、request-code</td><td>access-token、refresh-token</td></tr><tr><td>4</td><td>GET</td><td><code>https://api.weixin.qq.com/sns/userinfo</code></td><td>请求头中添加access-token</td><td>微信用户个人信息</td></tr><tr><td>5</td><td>GET</td><td><code>https://api.weixin.qq.com/sns/oauth2/refresh_token</code></td><td>appid、refresh-token</td><td>新的access-token</td></tr></tbody></table>',21),a=[i];function s(r,n,h,p,l,u){return d(),e("div",null,a)}const k=t(o,[["render",s]]);export{b as __pageData,k as default};
